---
- summary: |
    Проверка регистрации пользователя
  requirement: |
    При верном вводе данных пользователь должен зарегистрироваться в системе
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    no data
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован
 
- summary: |
    Проверка регистрации зарегистрированного пользователя
  requirement: |
    Система не должна позволить зарегистрировать нового пользователя
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Klone
    Пароль = S12345678
    Email = LesnikovaAlex@gmail.com
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Ошибка: "Email is already taken"

- summary: |
    Проверка регистрации пользователя через email с уже существующим Nickname
  requirement: |
    Система не должна позволить зарегистрировать нового пользователя
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Klone
    Пароль = Q12345
    Email = aleks.halyova@yandex.ru
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Ошибка: "Nickname is already taken"

- summary: |
    Проверка входа пользователя с существующими логином и паролем
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = lala@list.ru
    Пароль = S12345678
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "Войти"
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = Lesnicova@mail.ru
    Пароль = Q12345
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "Войти"
  expected-result: |
    Ошибка: "EMAIL_NOT_FOUND"

- summary: |
    Восстановление пароля через email
  requirement: |
    Возможность восстановления пароля 
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = aleks.halyova@yandex.ru
  steps:
    - Нажать кнопку Sign In
    - Нажать ссылку Forgot your password?
    - вводим email aleks.halyova@yandex.ru
    - нажать Submit
  expected-result: |
    на указанную почту поступила ссылка для восстановления пароля


- summary: |
    Проверка создания новой игры
  requirement: |
    Пользователь должен иметь возможность создать новую игру с указанием параметров
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Level = легкий
    Game Type = With a Bot
    Time control = 8 min
    Choose task by name or tags = random task
    Tags = math
  steps:
    - Нажать кнопку "Create battle"
  expected-result: |
    Игра успешно создана, отображается экран с редакторами кода, счетчиком времени и окном чата

- summary: |
    Проверка подключения к существующему баттлу
  requirement: |
    Пользователь должен иметь возможность подключиться к существующему баттлу
  prerequisites: |
    Пользователь авторизован в системе
    Открыта главная страница Codebattle со списком баттлов
  steps:
    - В списке баттлов нажать кнопку "Show"
  expected-result: |
    Редирект на страницу игры: отображаются редакторы кода участников, счетчик времени и окно чата

- summary: |
    Проверка создания приглашения на баттл определенного пользователя
  requirement: |
    Пользователь должен иметь возможность создать новую игру с определенным пользователем системы
  prerequisites: |
    - Пользователь авторизован в системе
  test-data: |
    Level: easy
    Game Type: With a Friend
    Time control: 8 min
    Choose opponent: Klone
    Choose task by name or tags: random task
    Tags: hash-maps
  steps:
    - Нажать кнопку "Create invite"
  expected-result: |
    Напротив кнопки invite отобразится бейдж, всплывающее окно "You invite Klone"

- summary: |
    Проверка принятия приглашения на баттл от другого пользователя
  requirement: |
    Создание игры с другим пользователем системы по приглашению
  prerequisites: |
    - Пользователь авторизован в системе
  test-data: |
    Напротив кнопки invite отображается бейдж
  steps:
    - В всплывающем окне кнопки invite нажать кнопку "Accept"
  expected-result: |
    Запустится игра: отображаются редакторы кода участников, счетчик времени и окно чата

- summary: |
    Проверка создания приглашения на баттл с любым пользователем
  requirement: |
    Пользователь должен иметь возможность создать новую игру с пользователем системы
  prerequisites: |
    - Пользователь авторизован в системе
  test-data: |
    Level: medium
    Game Type: With a Other User
    Time control: 8 min
    Choose task by name or tags: random task
    Tags: strings
  steps:
    - Нажать кнопку "Create battle"
  expected-result: |
    На вкладке "Lobby" в списке напротив текущего пользователя отобразится бейдж Rating и кнопка "Continue"

- summary: |
    Проверка создания новой игры с пользователем системы
  requirement: |
    Пользователь должен иметь возможность создать новую игру с пользователем системы
  prerequisites: |
    - Пользователь авторизован в системе
    - Открыта стартовая страница, вкладка "Lobby", список пользователей
  test-data: |
    Пользователь с бейджем Rating
  steps:
    - Выбрать пользователя с бейджем Rating
    - Нажать на кнопку "Fight"
  expected-result: |
    Запустится игра: отображаются редакторы кода участников, счетчик времени и окно чата
