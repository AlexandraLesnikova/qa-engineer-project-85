---
- summary: |
    Проверка регистрации пользователя через email
  requirement: |
    При верном вводе данных пользователь должен зарегистрироваться в системе
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Klone
    Пароль = S12345678
    Email = lala@list.ru
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка регистрации пользователя через email на уже зарегистрированную почту
  requirement: |
    Система не должна позволить зарегистрировать нового пользователя
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Klone
    Пароль = S12345678
    Email = LesnikovaAlex@gmail.com
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Ошибка: "Email is already taken"

- summary: |
    Проверка регистрации пользователя через email с уже существующим Nickname
  requirement: |
    Система не должна позволить зарегистрировать нового пользователя
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Nickname = Klone
    Пароль = Q12345
    Email = aleks.halyova@yandex.ru
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Submit"
  expected-result: |
    Ошибка: "Nickname is already taken"

- summary: |
    Проверка входа пользователя с существующими логином и паролем
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = lala@list.ru
    Пароль = S12345678
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "Войти"
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites: |
    Открыта страница логина
  test-data: |
    Логин = aleks.halyova@yandex.ru
    Пароль = Q12345
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку "Войти"
  expected-result: |
    Ошибка: "EMAIL_NOT_FOUND"

- summary: |
    Проверка создания новой игры
  requirement: |
    Пользователь должен иметь возможность создать новую игру с указанием параметров
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Level = легкий
    Game Type = With a Bot
    Time control = 8 min
    Choose task by name or tags = random task
    Tags = math
  steps:
    - Нажать кнопку "Create battle"
  expected-result: |
    Игра успешно создана, отображается экран с редакторами кода, счетчиком времени и окном чата

- summary: |
    Проверка подключения к существующему баттлу
  requirement: |
    Пользователь должен иметь возможность подключиться к существующему баттлу
  prerequisites: |
    Пользователь авторизован в системе
    Открыта главная страница Codebattle со списком баттлов
  steps:
    - В списке баттлов нажать кнопку "Show"
  expected-result: |
    Редирект на страницу игры: отображаются редакторы кода участников, счетчик времени и окно чата
